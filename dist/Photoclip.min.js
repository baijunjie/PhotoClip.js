/*!
 * PhotoClip - 一款手势驱动的裁图插件
 * @version v3.4.4
 * @author baijunjie
 * @license MIT
 * 
 * git - https://github.com/baijunjie/PhotoClip.js.git
 */
!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i(require("hammerjs"),require("iscroll/build/iscroll-zoom"),require("lrz")):"function"==typeof define&&define.amd?define(["hammerjs","iscroll","lrz"],i):"object"==typeof exports?exports.PhotoClip=i(require("hammerjs"),require("iscroll/build/iscroll-zoom"),require("lrz")):t.PhotoClip=i(t.Hammer,t.IScroll,t.lrz)}(window,function(t,i,e){return function(t){var i={};function e(o){if(i[o])return i[o].exports;var r=i[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=i,e.d=function(t,i,o){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(o,r,function(i){return t[i]}.bind(null,r));return o},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=4)}([function(t,i,e){"use strict";t.exports=function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,i,e){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return"object"===(void 0===t?"undefined":o(t))}},function(t,i,e){"use strict";t.exports=function(t){return"number"==typeof t}},function(t,i,e){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r={};t.exports=function(t,i,e){"object"!==(void 0===t?"undefined":o(t))&&(t=[]),void 0===t.length&&(t=[t]);for(var n,a=[],s=[],l=0;n=t[l++];)for(;n instanceof HTMLElement;){var u=n.nodeName;if(!n.getClientRects().length){a.push(n),s.push(n.style.display);var h=r[u];if(!h){var c=document.createElement(u);document.body.appendChild(c),h=window.getComputedStyle(c).display,c.parentNode.removeChild(c),"none"===h&&(h="block"),r[u]=h}n.style.display=h}if("BODY"===u)break;n=n.parentNode}"function"==typeof i&&i.call(e||this);for(var f=a.length;f--;)a.pop().style.display=s.pop()}},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,i){for(var e=0;e<i.length;e++){var o=i[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(i,e,o){return e&&t(i.prototype,e),o&&t(i,o),i}}(),n=L(e(5)),a=L(e(6)),s=L(e(7)),l=L(e(8)),u=L(e(9)),h=L(e(10)),c=L(e(2)),f=L(e(0)),_=L(e(14)),p=L(e(15)),d=L(e(3)),y=L(e(16)),m=L(e(17)),g=L(e(18)),v=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e]);return i.default=t,i}(e(20));function L(t){return t&&t.__esModule?t:{default:t}}var b=!!navigator.userAgent.match(/mobile/i),S=!!navigator.userAgent.match(/android/i),$=v.support("transition"),z=v.support("transform"),k=function(){},x={size:[100,100],adaptive:"",outputSize:[0,0],outputType:"jpg",outputQuality:.8,maxZoom:1,rotateFree:!S,view:"",file:"",ok:"",img:"",loadStart:k,loadComplete:k,loadError:k,done:k,fail:k,lrzOption:{width:S?1e3:void 0,height:S?1e3:void 0,quality:.7},style:{maskColor:"rgba(0,0,0,.5)",maskBorder:"2px dashed #ddd",jpgFillColor:"#fff"},errorMsg:{noSupport:"您的浏览器版本过于陈旧，无法支持裁图功能，请更换新的浏览器！",imgError:"不支持该图片格式，请选择常规格式的图片文件！",imgHandleError:"图片处理失败！请更换其它图片尝试。",imgLoadError:"图片读取失败！请更换其它图片尝试。",noImg:"没有可裁剪的图片！",clipError:"截图失败！当前图片源文件可能存在跨域问题，请确保图片与应用同源。如果您是在本地环境下执行本程序，请更换至服务器环境。"}},w=function(){function t(i,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),(i=(0,g.default)(i))&&i.length&&(this._$container=i[0],this._options=(0,h.default)(!0,{},x,e),void 0===z&&this._options.errorMsg.noSupport&&alert(this._options.errorMsg.noSupport),this._init())}return r(t,[{key:"_init",value:function(){var t=this,i=this._options;(0,c.default)(i.size)?i.size=[i.size,i.size]:(0,f.default)(i.size)?((!(0,c.default)(i.size[0])||i.size[0]<=0)&&(i.size[0]=x.size[0]),(!(0,c.default)(i.size[1])||i.size[1]<=0)&&(i.size[1]=x.size[1])):i.size=(0,h.default)({},x.size),(0,c.default)(i.outputSize)?i.outputSize=[i.outputSize,0]:(0,f.default)(i.outputSize)?((!(0,c.default)(i.outputSize[0])||i.outputSize[0]<0)&&(i.outputSize[0]=x.outputSize[0]),(!(0,c.default)(i.outputSize[1])||i.outputSize[1]<0)&&(i.outputSize[1]=x.outputSize[1])):i.outputSize=(0,h.default)({},x.outputSize),"jpg"===i.outputType?i.outputType="image/jpeg":i.outputType="image/png",(0,f.default)(i.adaptive)&&(this._widthIsPercent=!(!i.adaptive[0]||!v.isPercent(i.adaptive[0]))&&i.adaptive[0],this._heightIsPercent=!(!i.adaptive[1]||!v.isPercent(i.adaptive[1]))&&i.adaptive[1]),this._outputWidth=i.outputSize[0],this._outputHeight=i.outputSize[1],this._canvas=document.createElement("canvas"),this._iScroll=null,this._hammerManager=null,this._clipWidth=0,this._clipHeight=0,this._clipSizeRatio=1,this._$img=null,this._imgLoaded=!1,this._containerWidth=0,this._containerHeight=0,this._$clipLayer=null,this._$moveLayer=null,this._$rotationLayer=null,this._viewList=null,this._fileList=null,this._okList=null,this._$mask=null,this._$mask_left=null,this._$mask_right=null,this._$mask_right=null,this._$mask_bottom=null,this._$clip_frame=null,this._atRotation=!1,this._rotationLayerWidth=0,this._rotationLayerHeight=0,this._rotationLayerX=0,this._rotationLayerY=0,this._rotationLayerOriginX=0,this._rotationLayerOriginY=0,this._curAngle=0,(0,l.default)(this,"_rotateCW90","_fileOnChangeHandle","_clipImg","_resize","size","load","clear","rotate","scale","clip","destroy"),this._initElements(),this._initScroll(),this._initRotationEvent(),this._initFile(),this._resize(),window.addEventListener("resize",this._resize),(this._okList=(0,g.default)(i.ok))&&this._okList.forEach(function(i){i.addEventListener("click",t._clipImg)}),this._options.img&&this._lrzHandle(this._options.img)}},{key:"_initElements",value:function(){var t=this._$container,i=t.style,e={};e["user-select"]=i["user-select"],e.overflow=i.overflow,e.position=i.position,this._containerOriginStyle=e,(0,y.default)(t,{"user-select":"none",overflow:"hidden"}),"static"===(0,y.default)(t,"position")&&(0,y.default)(t,"position","relative"),this._$clipLayer=(0,_.default)(t,"photo-clip-layer",{position:"absolute",left:"50%",top:"50%"}),this._$moveLayer=(0,_.default)(this._$clipLayer,"photo-clip-move-layer"),this._$rotationLayer=(0,_.default)(this._$moveLayer,"photo-clip-rotation-layer");var o=this._$mask=(0,_.default)(t,"photo-clip-mask",{position:"absolute",left:0,top:0,width:"100%",height:"100%","pointer-events":"none"}),r=this._options,n=r.style.maskColor,a=r.style.maskBorder;if(this._$mask_left=(0,_.default)(o,"photo-clip-mask-left",{position:"absolute",left:0,right:"50%",top:"50%",bottom:"50%",width:"auto","background-color":n}),this._$mask_right=(0,_.default)(o,"photo-clip-mask-right",{position:"absolute",left:"50%",right:0,top:"50%",bottom:"50%","background-color":n}),this._$mask_top=(0,_.default)(o,"photo-clip-mask-top",{position:"absolute",left:0,right:0,top:0,bottom:"50%","background-color":n}),this._$mask_bottom=(0,_.default)(o,"photo-clip-mask-bottom",{position:"absolute",left:0,right:0,top:"50%",bottom:0,"background-color":n}),this._$clip_frame=(0,_.default)(o,"photo-clip-area",{border:a,position:"absolute",left:"50%",top:"50%"}),this._viewList=(0,g.default)(r.view),this._viewList){var s=[];this._viewList.forEach(function(t,i){var e=t.style,o={};o["background-repeat"]=e["background-repeat"],o["background-position"]=e["background-position"],o["background-size"]=e["background-size"],s[i]=o,(0,y.default)(t,{"background-repeat":"no-repeat","background-position":"center","background-size":"contain"})}),this._viewOriginStyleList=s}}},{key:"_initScroll",value:function(){this._iScroll=new a.default(this._$clipLayer,{zoom:!0,scrollX:!0,scrollY:!0,freeScroll:!0,mouseWheel:!0,disablePointer:!0,disableTouch:!1,disableMouse:!1,wheelAction:"zoom",bounceTime:300})}},{key:"_refreshScroll",value:function(t){t=t||0;var i=this._iScroll.options,e=this._options.maxZoom,o=this._rotationLayerWidth,r=this._rotationLayerHeight;o&&r?(i.zoomMin=v.getScale(this._clipWidth,this._clipHeight,o,r),i.zoomMax=Math.max(e,i.zoomMin),i.startZoom=Math.min(i.zoomMax,v.getScale(this._containerWidth,this._containerHeight,o,r))):(i.zoomMin=1,i.zoomMax=e,i.startZoom=1),(0,y.default)(this._$moveLayer,{width:o,height:r}),this._$clipLayer.appendChild(this._$moveLayer),this._iScroll.refresh(t)}},{key:"_resetScroll",value:function(t,i){t=t||0,i=i||0,this._rotationLayerWidth=t,this._rotationLayerHeight=i,this._rotationLayerX=0,this._rotationLayerY=0,this._curAngle=0,E(this._$rotationLayer,this._rotationLayerX,this._rotationLayerY,this._curAngle),(0,y.default)(this._$rotationLayer,{width:t,height:i}),this._refreshScroll();var e=this._iScroll,o=e.scale,r=.5*(this._clipWidth-t*o),n=.5*(this._clipHeight-i*o);e.scrollTo(r,n),e.zoom(e.options.startZoom,void 0,void 0,0)}},{key:"_initRotationEvent",value:function(){var t=this;if(b){this._hammerManager=new n.default.Manager(this._$moveLayer),this._hammerManager.add(new n.default.Rotate);var i=this._options.rotateFree,e=this._iScroll.options.bounceTime,o=void 0,r=void 0,a=void 0;this._hammerManager.on("rotatestart",function(e){t._atRotation||(o=!0,i?(r=(e.rotation-t._curAngle)%360,t._rotationLayerRotateReady(e.center)):r=e.rotation)}),this._hammerManager.on("rotatemove",function(e){o&&(a=e.rotation-r,i&&t._rotationLayerRotate(a))}),this._hammerManager.on("rotateend rotatecancel",function(r){if(o){if(o=!1,!i)return(a%=360)>180?a-=360:a<-180&&(a+=360),void(a>30?t._rotateBy(90,e,r.center):a<-30&&t._rotateBy(-90,e,r.center));var n=a%360;n<0&&(n+=360),n<10?a+=-n:n>80&&n<100?a+=90-n:n>170&&n<190?a+=180-n:n>260&&n<280?a+=270-n:n>350&&(a+=360-n),t._rotationLayerRotateFinish(a,e)}})}else this._$moveLayer.addEventListener("dblclick",this._rotateCW90)}},{key:"_rotateCW90",value:function(t){this._rotateBy(90,this._iScroll.options.bounceTime,{x:t.clientX,y:t.clientY})}},{key:"_rotateBy",value:function(t,i,e){this._rotateTo(this._curAngle+t,i,e)}},{key:"_rotateTo",value:function(t,i,e){this._atRotation||(this._rotationLayerRotateReady(e),this._rotationLayerRotateFinish(t,i))}},{key:"_rotationLayerRotateReady",value:function(t){var i=this._iScroll.scale,e=void 0;(e=t?v.globalToLoacl(this._$rotationLayer,t.x,t.y):v.loaclToLoacl(this._$rotationLayer,this._$clipLayer,.5*this._clipWidth,.5*this._clipHeight)).x/=i,e.y/=i;var o={x:e.x-this._rotationLayerX,y:e.y-this._rotationLayerY},r=v.pointRotate(o,-this._curAngle);this._rotationLayerOriginX=r.x,this._rotationLayerOriginY=r.y;var n=this._$rotationLayer.getBoundingClientRect();M(this._$rotationLayer,this._rotationLayerOriginX,this._rotationLayerOriginY);var a=this._$rotationLayer.getBoundingClientRect();this._rotationLayerX+=(n.left-a.left)/i,this._rotationLayerY+=(n.top-a.top)/i,E(this._$rotationLayer,this._rotationLayerX,this._rotationLayerY,this._curAngle)}},{key:"_rotationLayerRotate",value:function(t){E(this._$rotationLayer,this._rotationLayerX,this._rotationLayerY,t),this._curAngle=t}},{key:"_rotationLayerRotateFinish",value:function(t,i){var e=this;E(this._$rotationLayer,this._rotationLayerX,this._rotationLayerY,t);var o=this._$rotationLayer.getBoundingClientRect();M(this._$rotationLayer,0,0);var r=this._$rotationLayer.getBoundingClientRect();E(this._$rotationLayer,this._rotationLayerX,this._rotationLayerY,0);var n=this._$rotationLayer.getBoundingClientRect(),a=this._$moveLayer.getBoundingClientRect(),s=this._iScroll,l=s.scale,u={x:o.left-a.left,y:o.top-a.top};this._rotationLayerWidth=o.width/l,this._rotationLayerHeight=o.height/l,this._rotationLayerX=(n.left-r.left)/l,this._rotationLayerY=(n.top-r.top)/l,s.scrollTo(s.x+u.x,s.y+u.y),this._refreshScroll(s.options.bounceTime);var h=Math.max(s.options.zoomMin,Math.min(s.options.zoomMax,l));h!==l&&(u.x=u.x/l*h,u.y=u.y/l*h),s.startX+=u.x,s.startY+=u.y,t!==this._curAngle&&i&&(0,c.default)(i)&&void 0!==$?(u={x:(r.left-o.left)/l,y:(r.top-o.top)/l},M(this._$rotationLayer,this._rotationLayerOriginX,this._rotationLayerOriginY),E(this._$rotationLayer,this._rotationLayerX+u.x,this._rotationLayerY+u.y,this._curAngle),this._atRotation=!0,function(t,i,e,o,r,n){(0,y.default)(t,z+"transform"),(0,y.default)(t,z+"transition",z+"transform "+r+"ms cubic-bezier(0.1, 0.57, 0.1, 1)"),E(t,i,e,o),setTimeout(function(){(0,y.default)(t,z+"transition",""),n()},r)}(this._$rotationLayer,this._rotationLayerX+u.x,this._rotationLayerY+u.y,t,i,function(){e._atRotation=!1,e._rotateFinishUpdataElem(t)})):this._rotateFinishUpdataElem(t)}},{key:"_rotateFinishUpdataElem",value:function(t){M(this._$rotationLayer,this._rotationLayerOriginX=0,this._rotationLayerOriginY=0),E(this._$rotationLayer,this._rotationLayerX,this._rotationLayerY,this._curAngle=t%360)}},{key:"_initFile",value:function(){var t=this,i=this._options;(this._fileList=(0,g.default)(i.file))&&this._fileList.forEach(function(i){b||(0,m.default)(i,"accept","image/jpeg, image/x-png, image/png, image/gif"),i.addEventListener("change",t._fileOnChangeHandle)})}},{key:"_fileOnChangeHandle",value:function(t){var i=t.target.files;i.length&&this._lrzHandle(i[0])}},{key:"_lrzHandle",value:function(t){var i=this,e=this._options,r=e.errorMsg;if("object"===(void 0===t?"undefined":o(t))&&t.type&&!/image\/\w+/.test(t.type))return e.loadError.call(this,r.imgError),!1;this._imgLoaded=!1,e.loadStart.call(this,t);try{(0,s.default)(t,e.lrzOption).then(function(t){i._clearImg(),i._createImg(t.base64)}).catch(function(t){e.loadError.call(i,r.imgHandleError,t)})}catch(t){throw e.loadError.call(this,r.imgHandleError,t),t}}},{key:"_clearImg",value:function(){this._$img&&(this._$img.onload=null,this._$img.onerror=null,(0,p.default)(this._$img),this._$img=null,this._imgLoaded=!1)}},{key:"_createImg",value:function(t){var i=this,e=this._options,o=e.errorMsg;this._$img=new Image,(0,y.default)(this._$img,{"user-select":"none","pointer-events":"none"}),this._$img.onload=function(t){var o=t.target;i._imgLoaded=!0,e.loadComplete.call(i,o),i._$rotationLayer.appendChild(o),(0,d.default)([o,i._$moveLayer],function(){i._resetScroll(o.naturalWidth,o.naturalHeight)})},this._$img.onerror=function(t){e.loadError.call(i,o.imgLoadError,t)},(0,m.default)(this._$img,"src",t)}},{key:"_clipImg",value:function(){var t=this._options,i=t.errorMsg;if(this._imgLoaded){var e=v.loaclToLoacl(this._$rotationLayer,this._$clipLayer),o=this._iScroll.scale,r=this._canvas.getContext("2d"),n=1,a=1;this._outputWidth||this._outputHeight?(this._canvas.width=this._outputWidth,this._canvas.height=this._outputHeight,n=this._outputWidth/this._clipWidth*o,a=this._outputHeight/this._clipHeight*o):(this._canvas.width=this._clipWidth/o,this._canvas.height=this._clipHeight/o),r.clearRect(0,0,this._canvas.width,this._canvas.height),r.fillStyle=t.style.jpgFillColor,r.fillRect(0,0,this._canvas.width,this._canvas.height),r.save(),r.scale(n,a),r.translate(this._rotationLayerX-e.x/o,this._rotationLayerY-e.y/o),r.rotate(this._curAngle*Math.PI/180),r.drawImage(this._$img,0,0),r.restore();try{var s=this._canvas.toDataURL(t.outputType,t.outputQuality);return this._viewList&&this._viewList.forEach(function(t){(0,y.default)(t,"background-image","url("+s+")")}),t.done.call(this,s),s}catch(e){throw t.fail.call(this,i.clipError),e}}else t.fail.call(this,i.noImg)}},{key:"_resize",value:function(t,i){(0,d.default)(this._$container,function(){this._containerWidth=this._$container.offsetWidth,this._containerHeight=this._$container.offsetHeight},this);var e=this._options.size,o=this._clipWidth,r=this._clipHeight;if((0,c.default)(t)&&(e[0]=t),(0,c.default)(i)&&(e[1]=i),this._widthIsPercent||this._heightIsPercent){var n=e[0]/e[1];this._widthIsPercent&&(this._clipWidth=this._containerWidth/100*parseFloat(this._widthIsPercent),this._heightIsPercent||(this._clipHeight=this._clipWidth/n)),this._heightIsPercent&&(this._clipHeight=this._containerHeight/100*parseFloat(this._heightIsPercent),this._widthIsPercent||(this._clipWidth=this._clipHeight*n))}else this._clipWidth=e[0],this._clipHeight=e[1];var a=this._clipWidth,s=this._clipHeight;if(this._clipSizeRatio=a/s,this._outputWidth&&!this._outputHeight&&(this._outputHeight=this._outputWidth/this._clipSizeRatio),this._outputHeight&&!this._outputWidth&&(this._outputWidth=this._outputHeight*this._clipSizeRatio),(0,y.default)(this._$clipLayer,{width:a,height:s,"margin-left":-a/2,"margin-top":-s/2}),(0,y.default)(this._$mask_left,{"margin-right":a/2,"margin-top":-s/2,"margin-bottom":-s/2}),(0,y.default)(this._$mask_right,{"margin-left":a/2,"margin-top":-s/2,"margin-bottom":-s/2}),(0,y.default)(this._$mask_top,{"margin-bottom":s/2}),(0,y.default)(this._$mask_bottom,{"margin-top":s/2}),(0,y.default)(this._$clip_frame,{width:a,height:s}),(0,y.default)(this._$clip_frame,z+"transform","translate(-50%, -50%)"),a!==o||s!==r){this._refreshScroll();var l=this._iScroll,u=l.scale,h=.5*(a-o)*u,f=.5*(s-r)*u;l.scrollBy(h,f);var _=Math.max(l.options.zoomMin,Math.min(l.options.zoomMax,u));_!==u&&l.zoom(_,void 0,void 0,0)}}},{key:"size",value:function(t,i){return this._resize(t,i),this}},{key:"load",value:function(t){return this._lrzHandle(t),this}},{key:"clear",value:function(){return this._clearImg(),this._resetScroll(),this._fileList&&this._fileList.forEach(function(t){t.value=""}),this}},{key:"rotate",value:function(t,i){return void 0===t?this._curAngle:(this._rotateTo(t,i),this)}},{key:"scale",value:function(t,i){return void 0===t?this._iScroll.scale:(this._iScroll.zoom(t,void 0,void 0,i),this)}},{key:"clip",value:function(){return this._clipImg()}},{key:"destroy",value:function(){var t=this;window.removeEventListener("resize",this._resize),this._$container.removeChild(this._$clipLayer),this._$container.removeChild(this._$mask),(0,y.default)(this._$container,this._containerOriginStyle),this._iScroll&&this._iScroll.destroy(),this._hammerManager?(this._hammerManager.off("rotatemove"),this._hammerManager.off("rotateend"),this._hammerManager.destroy()):this._$moveLayer.removeEventListener("dblclick",this._rotateCW90),this._$img&&(this._$img.onload=null,this._$img.onerror=null),this._viewList&&this._viewList.forEach(function(i,e){(0,y.default)(i,t._viewOriginStyleList[e])}),this._fileList&&this._fileList.forEach(function(i){i.removeEventListener("change",t._fileOnChangeHandle),i.value=null}),this._okList&&this._okList.forEach(function(i){i.removeEventListener("click",t._clipImg)}),(0,u.default)(this)}}]),t}();function M(t,i,e){i=(i||0).toFixed(2),e=(e||0).toFixed(2),(0,y.default)(t,z+"transform-origin",i+"px "+e+"px")}function E(t,i,e,o){i=i.toFixed(2),e=e.toFixed(2),o=o.toFixed(2),(0,y.default)(t,z+"transform","translateZ(0) translate("+i+"px,"+e+"px) rotate("+o+"deg)")}i.default=w,t.exports=i.default},function(i,e){i.exports=t},function(t,e){t.exports=i},function(t,i){t.exports=e},function(t,i,e){"use strict";t.exports=function(t){for(var i=arguments.length,e=Array(i>1?i-1:0),o=1;o<i;o++)e[o-1]=arguments[o];e.forEach(function(i){t[i]=t[i].bind(t)})}},function(t,i,e){"use strict";t.exports=function(t){Object.getOwnPropertyNames(t).forEach(function(i){delete t[i]}),t.__proto__=Object.prototype}},function(t,i,e){"use strict";var o=e(0),r=e(1),n=e(11),a=e(12),s=e(13);t.exports=function t(){var i=void 0,e=void 0,l=void 0,u=void 0,h=void 0,c=arguments[0]||{},f=(Object.prototype.toString,1),_=arguments.length,p=!1;for(n(c)&&(p=c,c=arguments[f]||{},f++),r(c)||a(c)||(c={}),f===_&&(c=this,f--);f<_;f++)if(null!=(i=arguments[f]))for(e in i)l=c[e],c!==(u=i[e])&&(p&&u&&((h=o(u))||s(u))?(h?(h=!1,l=l&&o(l)?l:[]):l=l&&s(l)?l:{},c[e]=t(p,l,u)):void 0!==u&&(c[e]=u));return c}},function(t,i,e){"use strict";t.exports=function(t){return"boolean"==typeof t}},function(t,i,e){"use strict";t.exports=function(t){return"function"==typeof t}},function(t,i,e){"use strict";t.exports=function(t){return"[object Object]"===Object.prototype.toString.call(t)}},function(t,i,e){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t,i,e,r){var n=document.createElement("DIV");if("object"===(void 0===i?"undefined":o(i))&&(r=i,i=null),"object"===(void 0===e?"undefined":o(e))&&(r=e,e=null),"object"===(void 0===r?"undefined":o(r)))for(var a in r)n.style[a]=r[a];return i&&(n.className=i),e&&(n.id=e),t.appendChild(n),n}},function(t,i,e){"use strict";t.exports=function(t){t.parentNode&&t.parentNode.removeChild(t)}},function(t,i,e){"use strict";var o=e(1),r=e(2),n={animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0};t.exports=function(t,i,e){if(o(i)){for(var a in i)e=i[a],r(e)&&!n[i]&&(e+="px"),t.style[a]=e;return t}return void 0===e?window.getComputedStyle(t)[i]:(r(e)&&!n[i]&&(e+="px"),t.style[i]=e,t)}},function(t,i,e){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t,i,e){if("object"===(void 0===i?"undefined":o(i))){for(var r in i)t[r]=i[r];return t}return void 0===e?t[i]:(t[i]=e,t)}},function(t,i,e){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=e(19);t.exports=function(t,i){return t instanceof HTMLElement?[t]:"object"===(void 0===t?"undefined":o(t))&&t.length?r(t):t&&"string"==typeof t?("string"==typeof i&&(i=document.querySelector(i)),i instanceof HTMLElement||(i=document),r(i.querySelectorAll(t))):[]}},function(t,i,e){"use strict";t.exports=function(t){return Array.prototype.map.call(t,function(t){return t})}},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.getScale=function(t,i,e,o){var r=t/e,n=i/o;return r>n?r:n},i.pointRotate=function(t,i){var e=a(i),o=Math.sin(e),r=Math.cos(e);return{x:r*t.x-o*t.y,y:r*t.y+o*t.x}},i.angleToRadian=a,i.loaclToLoacl=function(t,i,e,o){e=e||0,o=o||0;var r=void 0,a=void 0;return(0,n.default)([t,i],function(){r=t.getBoundingClientRect(),a=i.getBoundingClientRect()}),{x:a.left-r.left+e,y:a.top-r.top+o}},i.globalToLoacl=function(t,i,e){i=i||0,e=e||0;var o=void 0;return(0,n.default)(t,function(){o=t.getBoundingClientRect()}),{x:i-o.left,y:e-o.top}},i.isPercent=function(t){return/%$/.test(t+"")},i.support=function(t){var i=document.documentElement;if(t in i.style)return"";for(var e,o=t.charAt(0).toUpperCase()+t.substr(1),r=["Webkit","Moz","ms","O"],n=0;e=r[n++];)if(e+o in i.style)return"-"+e.toLowerCase()+"-"};var o,r=e(3),n=(o=r)&&o.__esModule?o:{default:o};function a(t){return t/180*Math.PI}}])});